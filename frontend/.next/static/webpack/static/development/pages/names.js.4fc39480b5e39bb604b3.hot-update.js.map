{"version":3,"file":"static/webpack/static/development/pages/names.js.4fc39480b5e39bb604b3.hot-update.js","sources":["webpack:///./components/WomenList.js"],"sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport * as _ from \"lodash\";\nimport { WomenListWrap, Container, InnerWrap } from \"./styles/WomenList\";\nimport { genId, setBodyHeight, _addHighlightClass } from \"./helpers\";\nimport InnerNames from \"./InnerNames\";\n\nclass WomenList extends Component {\n  state = {\n    scrollTop: 0,\n    newlyAddedItem: null,\n    highlightedId: null\n  };\n\n  allWomen = null;\n  womenWithId = null;\n\n  _scrollToHash = () => {\n    console.log(\"scroll to hash fx\");\n    if (typeof window === \"undefined\") {\n      return 0;\n    } else {\n      const hash = window.location.hash;\n      if (hash !== \"\") {\n        const id = hash.substr(1);\n        this.setState({ highlightedId: id });\n\n        // TODO: refactor to use refs instead\n        const womenWrapper = document.getElementById(\"womanList\");\n        const scrollEl = document.querySelector(`[data-scrollid=${id}]`);\n\n        // console.log(womenWrapper);\n        // console.log(scrollEl);\n\n        // debugger;\n\n        if (scrollEl) {\n          const elScrollHeight = scrollEl.offsetTop;\n          const halfHeight = window.innerHeight / 2.5;\n          const totalScrollHeight = elScrollHeight - halfHeight;\n          document.querySelectorAll(`.${id}`).forEach(el => {\n            el.classList.add(\"highlighted\");\n          });\n\n          // console.log(totalScrollHeight);\n          window.scrollTo({\n            top: totalScrollHeight,\n            left: 0\n            // behavior: \"smooth\"\n          });\n        } else {\n          window &&\n            typeof window === \"object\" &&\n            window.scrollTo &&\n            typeof window.scrollTo === \"function\" &&\n            window.scrollTo(0, 0);\n        }\n      }\n    }\n  };\n\n  componentWillMount() {}\n\n  componentWillReceiveProps(nextProps) {}\n\n  componentDidMount() {\n    setBodyHeight();\n    document.addEventListener(\"scroll\", this._throttleScroll);\n    window.addEventListener(\"resize\", setBodyHeight);\n    this.setState({ scrollTop: window.pageYOffset });\n    this._scrollToHash();\n  }\n\n  componentWillUnmount() {\n    if (typeof window === \"undefined\") {\n      return 0;\n    } else if (typeof window != \"undefined\") {\n      document.removeEventListener(\"scroll\", this._throttleScroll);\n    }\n  }\n\n  // This will run the first time setBodyHeight is called.\n  _onScroll = e => {\n    const bodyScrollTop = window.pageYOffset;\n    this.setState({ scrollTop: bodyScrollTop });\n  };\n\n  _throttleScroll = _.throttle(this._onScroll, 100);\n\n  render() {\n    // const reversedNames = this.props.women.reverse();\n    const names = [{ name: \"one\" }, { name: \"two\" }, { name: \"three\" }];\n    // console.log(names);\n    // const names = this.props.women;\n    const reversedNames = this.props.women;\n\n    const containers = (\n      <Fragment>\n        <WomenListWrap\n          formFocused={this.props.formFocused}\n          style={{\n            transform: `rotateY(${this.props.x}deg)`\n          }}\n        >\n          <Container\n            style={{\n              transformOrigin: `bottom center`,\n              transform: `matrix3d(\n                  1,\n                  0,\n                  0,\n                  0,\n                  0,\n                  ${this.props.matrix3DVal2},\n                  ${this.props.matrix3DVal1},\n                  0,\n                  0,\n                  ${this.props.matrix3DVal1 * -1},\n                  ${this.props.matrix3DVal2},\n                  0,\n                  0,\n                  0,\n                  0,\n                  1\n                )`\n            }}\n          >\n            <div className=\"hidden\">\n              <InnerWrap\n                order={0}\n                style={{\n                  transform: `translate3d(0px, -${this.state.scrollTop}px, 0px)`\n                }}\n                className=\"womenWrapper\"\n              >\n                <InnerNames\n                  highlightedid={this.state.highlightedId}\n                  names={reversedNames}\n                />\n              </InnerWrap>\n            </div>\n          </Container>\n          <Container>\n            <div className=\"hidden\">\n              <InnerWrap\n                id=\"womanList\"\n                style={{\n                  transform: `translate3d(0px, -${this.state.scrollTop}px, 0px)`\n                }}\n                order={1}\n                className=\"womenWrapper\"\n              >\n                <InnerNames\n                  highlightedid={this.state.highlightedId}\n                  names={reversedNames}\n                  renderwithid={true}\n                />\n              </InnerWrap>\n            </div>\n          </Container>\n          <Container\n            style={{\n              transformOrigin: `top center`,\n              transform: `matrix3d(\n                  1,\n                  0,\n                  0,\n                  0,\n                  0,\n                  ${this.props.matrix3DVal2},\n                  ${this.props.matrix3DVal1},\n                  0,\n                  0,\n                  ${this.props.matrix3DVal1 * -1},\n                  ${this.props.matrix3DVal2},\n                  0,\n                  0,\n                  0,\n                  0,\n                  1\n                )`\n            }}\n          >\n            <InnerWrap\n              style={{\n                transform: `translate3d(0px, -${this.state.scrollTop}px, 0px)`\n              }}\n              order={2}\n              className=\"womenWrapper\"\n            >\n              <InnerNames\n                highlightedid={this.state.highlightedId}\n                names={reversedNames}\n              />\n            </InnerWrap>\n          </Container>\n        </WomenListWrap>\n      </Fragment>\n    );\n\n    return containers;\n  }\n}\n\n// Set default props\nWomenList.defaultProps = {\n  x: 0,\n  y: 0,\n  matrix3DVal1: 0.18,\n  matrix3DVal2: 0.89\n};\n\nexport default WomenList;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAKA;AACA;AACA;AACA;AACA;AAsBA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;AA3BA;;;AAEA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AASA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAGA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAGA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AACA;AADA;AAGA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;;;;AAlMA;AACA;AACA;AAoMA;AACA;AACA;AACA;AACA;AAJA;AAOA;;;;A","sourceRoot":""}
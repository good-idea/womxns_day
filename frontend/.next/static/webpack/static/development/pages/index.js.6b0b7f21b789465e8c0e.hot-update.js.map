{"version":3,"file":"static/webpack/static/development/pages/index.js.6b0b7f21b789465e8c0e.hot-update.js","sources":["webpack:///./components/WomenList.js"],"sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport * as _ from \"lodash\";\nimport { WomenListWrap, Container, InnerWrap } from \"./styles/WomenList\";\nimport Share from \"./Share\";\nimport { setBodyHeight } from \"./helpers\";\n\nclass WomenList extends Component {\n  state = {\n    scrollTop: 0,\n    newlyAddedItem: null\n  };\n\n  componentDidMount() {\n    setBodyHeight();\n    document.addEventListener(\"scroll\", this._throttleScroll);\n    window.addEventListener(\"resize\", setBodyHeight);\n    this.setState({ scrollTop: window.pageYOffset });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.women.length !== this.props.women.length) {\n      setBodyHeight();\n      console.log(\"a new woman has been added to the list.\");\n      console.log(this.props.women[this.props.women.length - 1]);\n\n      const newElId = document.getElementById(\"womanList\").lastChild.id;\n      const newlyAddedItem = {\n        name: this.props.women[this.props.women.length - 1].name,\n        id: newElId\n      };\n\n      console.log({ newElId });\n      this.setState({ newlyAddedItem });\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        left: 0,\n        behavior: \"smooth\"\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (typeof window === \"undefined\") {\n      return 0;\n    } else if (typeof window != \"undefined\") {\n      document.removeEventListener(\"scroll\", this._throttleScroll);\n    }\n  }\n\n  // This will run the first time setBodyHeight is called.\n  _onScroll = e => {\n    const bodyScrollTop = window.pageYOffset;\n    this.setState({ scrollTop: bodyScrollTop });\n  };\n\n  _throttleScroll = _.throttle(this._onScroll, 100);\n\n  render() {\n    if (this.props.women) {\n      const womenWithId = this.props.women.map((woman, index) => {\n        const personId =\n          woman.name\n            .replace(/[^a-zA-Z ]/g, \"\")\n            .split(\" \")\n            .join(\"\") + index;\n        return (\n          <div\n            id={personId}\n            className=\"womanItem\"\n            key={woman.id + personId + index}\n          >\n            <h1>{woman.name}</h1>\n          </div>\n        );\n      });\n\n      const allWomen = this.props.women.map((woman, index) => {\n        return (\n          <div className=\"womanItem\" key={woman.id + index}>\n            <h1>{woman.name}</h1>\n          </div>\n        );\n      });\n\n      const containers = (\n        <Fragment>\n          <WomenListWrap\n          // style={{\n          //   transform: `rotateY(${this.props.x}deg)`\n          // }}\n          >\n            <Container\n              style={{\n                transformOrigin: `bottom center`,\n                transform: `matrix3d(\n                  1,\n                  0,\n                  0,\n                  0,\n                  0,\n                  ${this.props.matrix3DVal2},\n                  ${this.props.matrix3DVal1},\n                  0,\n                  0,\n                  ${this.props.matrix3DVal1 * -1},\n                  ${this.props.matrix3DVal2},\n                  0,\n                  0,\n                  0,\n                  0,\n                  1\n                )`\n              }}\n            >\n              <div className=\"hidden\">\n                <InnerWrap\n                  order={0}\n                  style={{\n                    transform: `translate3d(0px, -${\n                      this.state.scrollTop\n                    }px, 0px)`\n                  }}\n                  className=\"womenWrapper\"\n                >\n                  <div className=\"hidden\">{allWomen}</div>\n                </InnerWrap>\n              </div>\n            </Container>\n            <Container>\n              <div className=\"hidden\">\n                <InnerWrap\n                  id=\"womanList\"\n                  style={{\n                    // position: `relative`,\n                    // zIndex: `10`,\n                    transform: `translate3d(0px, -${\n                      this.state.scrollTop\n                    }px, 0px)`\n                  }}\n                  order={1}\n                  className=\"womenWrapper\"\n                >\n                  <div className=\"hidden\">{womenWithId}</div>\n                </InnerWrap>\n              </div>\n            </Container>\n            <Container\n              // transform: matrix3d(1, 0, 0, 0, 0, 0.740218, -0.672367, 0, 0, 0.672367, 0.740218, 0, 0, 0, 0, 1);\n              style={{\n                transformOrigin: `top center`,\n                transform: `matrix3d(\n                  1,\n                  0,\n                  0,\n                  0,\n                  0,\n                  ${this.props.matrix3DVal2},\n                  ${this.props.matrix3DVal1},\n                  0,\n                  0,\n                  ${this.props.matrix3DVal1 * -1},\n                  ${this.props.matrix3DVal2},\n                  0,\n                  0,\n                  0,\n                  0,\n                  1\n                )`\n              }}\n            >\n              <div className=\"hidden\">\n                <InnerWrap\n                  style={{\n                    transform: `translate3d(0px, -${\n                      this.state.scrollTop\n                    }px, 0px)`\n                  }}\n                  order={2}\n                  className=\"womenWrapper\"\n                >\n                  {allWomen}\n                </InnerWrap>\n              </div>\n            </Container>\n          </WomenListWrap>\n          <Share woman={this.state.newlyAddedItem} />\n        </Fragment>\n      );\n\n      return containers;\n    } else return null;\n  }\n}\n\n// Set default props\nWomenList.defaultProps = {\n  x: 0,\n  y: 0,\n  matrix3DVal1: 0.18,\n  matrix3DVal2: 0.89\n};\n\nexport default WomenList;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AA0CA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;AA5CA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AASA;AACA;AACA;AACA;AAKA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAKA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAOA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AAFA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAKA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;AAzLA;AACA;AACA;AA2LA;AACA;AACA;AACA;AACA;AAJA;AAOA;;;;A","sourceRoot":""}
{"version":3,"file":"static/webpack/static/development/pages/names.js.2668cd98a6c1ac16f24d.hot-update.js","sources":["webpack:///./components/WomenList.js"],"sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport * as _ from \"lodash\";\nimport { WomenListWrap, Container, InnerWrap } from \"./styles/WomenList\";\nimport { genId, setBodyHeight } from \"./helpers\";\n\nclass WomenList extends Component {\n  state = {\n    scrollTop: 0,\n    newlyAddedItem: null\n  };\n\n  allWomen = null;\n  womenWithId = null;\n\n  _calcWomenList = () => {\n    console.log(\"insdie calc women list\");\n    if (this.props.women) {\n      this.womenWithId = this.props.women.map((woman, index) => {\n        const personId = genId(woman.name);\n\n        return (\n          <div\n            data-nameid={personId}\n            className={`womanItem ${personId}`}\n            key={woman.id + personId + index}\n            onClick={this._addHighlightClass}\n            id={personId}\n          >\n            <h1>{woman.name}</h1>\n          </div>\n        );\n      });\n\n      this.allWomen = this.props.women.map((woman, index) => {\n        const personId = genId(woman.name);\n\n        return (\n          <div\n            onClick={this._addHighlightClass}\n            className={`womanItem ${personId}`}\n            key={woman.id + index}\n          >\n            <h1>{woman.name}</h1>\n          </div>\n        );\n      });\n    }\n  };\n\n  componentWillMount() {\n    this._calcWomenList();\n  }\n\n  componentDidMount() {\n    if (\"scrollRestoration\" in history) {\n      history.scrollRestoration = \"manual\";\n    }\n\n    if (typeof window === \"undefined\") {\n      return 0;\n    } else if (typeof window != \"undefined\") {\n      window.scrollTo({\n        top: 5000,\n        left: 0,\n        behavior: \"smooth\"\n      });\n\n      // const hash = window.location.hash;\n      // console.log({ hash });\n      // if (hash !== \"\") {\n      //   const id = hash.substr(1);\n      //   const elScrollHeight = document.querySelector(hash).offsetTop;\n      //   console.log(elScrollHeight);\n      //   const halfHeight = window.innerHeight / 2.5;\n      //   const totalScrollHeight = elScrollHeight - halfHeight;\n\n      //   document.querySelectorAll(`.${id}`).forEach(el => {\n      //     el.classList.add(\"highlighted\");\n      //   });\n\n      //   window.scrollTo({\n      //     top: totalScrollHeight,\n      //     left: 0\n      //     // behavior: \"smooth\"\n      //   });\n\n      //   // if (elScrollHeight) {\n      //   //   window.scrollTo({\n      //   //     top: totalScrollHeight,\n      //   //     left: 0\n      //   //     // behavior: \"smooth\"\n      //   //   });\n      //   // }\n      // } else {\n      //   console.log(\"in else\");\n      //   window &&\n      //     typeof window === \"object\" &&\n      //     window.scrollTo &&\n      //     typeof window.scrollTo === \"function\" &&\n      //     window.scrollTo(0, 0);\n      // }\n    }\n\n    setBodyHeight();\n    document.addEventListener(\"scroll\", this._throttleScroll);\n    window.addEventListener(\"resize\", setBodyHeight);\n    this.setState({ scrollTop: window.pageYOffset });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // if a new woman has been added\n    if (prevProps.women.length !== this.props.women.length) {\n      this._calcWomenList();\n      setBodyHeight();\n\n      // const newEl = document\n      //   .getElementById(\"womanList\")\n      //   .querySelector(\".hidden\").lastChild;\n\n      // const newElId = newEl.dataset.nameid;\n\n      // console.log(newElId);\n\n      // const newlyAddedItem = {\n      //   name: this.props.women[this.props.women.length - 1].name,\n      //   id: newElId\n      // };\n\n      // const allNewEls = document.querySelectorAll(`.${newElId}`);\n      // allNewEls.forEach(el => {\n      //   el.classList.add(\"highlighted\");\n      // });\n\n      // this.setState({ newlyAddedItem });\n      // window.scrollTo({\n      //   top: document.body.scrollHeight,\n      //   left: 0\n      //   // behavior: \"smooth\"\n      // });\n    }\n  }\n\n  componentWillUnmount() {\n    if (typeof window === \"undefined\") {\n      return 0;\n    } else if (typeof window != \"undefined\") {\n      document.removeEventListener(\"scroll\", this._throttleScroll);\n    }\n  }\n\n  // This will run the first time setBodyHeight is called.\n  _onScroll = e => {\n    const bodyScrollTop = window.pageYOffset;\n    this.setState({ scrollTop: bodyScrollTop });\n  };\n\n  _throttleScroll = _.throttle(this._onScroll, 100);\n\n  _addHighlightClass = e => {\n    console.log(\"added highlight\");\n    console.log(e);\n    // el.classList.addClass(\"highlighted\");\n  };\n\n  render() {\n    const containers = (\n      <Fragment>\n        <WomenListWrap\n          formFocused={this.props.formFocused}\n          style={{\n            transform: `rotateY(${this.props.x}deg)`\n          }}\n        >\n          <Container\n            style={{\n              transformOrigin: `bottom center`,\n              transform: `matrix3d(\n                  1,\n                  0,\n                  0,\n                  0,\n                  0,\n                  ${this.props.matrix3DVal2},\n                  ${this.props.matrix3DVal1},\n                  0,\n                  0,\n                  ${this.props.matrix3DVal1 * -1},\n                  ${this.props.matrix3DVal2},\n                  0,\n                  0,\n                  0,\n                  0,\n                  1\n                )`\n            }}\n          >\n            <div className=\"hidden\">\n              <InnerWrap\n                order={0}\n                style={{\n                  transform: `translate3d(0px, -${this.state.scrollTop}px, 0px)`\n                }}\n                className=\"womenWrapper\"\n              >\n                <div className=\"hidden\">{this.allWomen}</div>\n              </InnerWrap>\n            </div>\n          </Container>\n          <Container>\n            <div className=\"hidden\">\n              <InnerWrap\n                id=\"womanList\"\n                style={{\n                  transform: `translate3d(0px, -${this.state.scrollTop}px, 0px)`\n                }}\n                order={1}\n                className=\"womenWrapper\"\n              >\n                <div className=\"hidden\">{this.womenWithId}</div>\n              </InnerWrap>\n            </div>\n          </Container>\n          <Container\n            style={{\n              transformOrigin: `top center`,\n              transform: `matrix3d(\n                  1,\n                  0,\n                  0,\n                  0,\n                  0,\n                  ${this.props.matrix3DVal2},\n                  ${this.props.matrix3DVal1},\n                  0,\n                  0,\n                  ${this.props.matrix3DVal1 * -1},\n                  ${this.props.matrix3DVal2},\n                  0,\n                  0,\n                  0,\n                  0,\n                  1\n                )`\n            }}\n          >\n            <div className=\"hidden\">\n              <InnerWrap\n                style={{\n                  transform: `translate3d(0px, -${this.state.scrollTop}px, 0px)`\n                }}\n                order={2}\n                className=\"womenWrapper\"\n              >\n                {this.allWomen}\n              </InnerWrap>\n            </div>\n          </Container>\n        </WomenListWrap>\n      </Fragment>\n    );\n\n    return containers;\n  }\n}\n\n// Set default props\nWomenList.defaultProps = {\n  x: 0,\n  y: 0,\n  matrix3DVal1: 0.18,\n  matrix3DVal2: 0.89\n};\n\nexport default WomenList;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAuGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;AAlHA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAeA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAGA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAGA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAGA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;;;;AAjQA;AACA;AACA;AAmQA;AACA;AACA;AACA;AACA;AAJA;AAOA;;;;A","sourceRoot":""}